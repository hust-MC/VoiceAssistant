# è½¦è½½è¯­éŸ³åŠ©æ‰‹å®Œæ•´æ–¹æ¡ˆè®¾è®¡ï¼ˆåŸºäºç™¾åº¦SDKï¼‰

## ğŸ“‹ ç›®å½•
1. [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
2. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
3. [ç™¾åº¦SDKé›†æˆæ–¹æ¡ˆ](#ç™¾åº¦sdké›†æˆæ–¹æ¡ˆ)
4. [åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡](#åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡)
5. [UIç•Œé¢è®¾è®¡](#uiç•Œé¢è®¾è®¡)
6. [å¼€å‘è®¡åˆ’](#å¼€å‘è®¡åˆ’)

---

## é¡¹ç›®æ¦‚è¿°

### æ ¸å¿ƒåŠŸèƒ½
- **è¯­éŸ³è¯†åˆ«**ï¼šå°†ç”¨æˆ·è¯­éŸ³è½¬æ¢ä¸ºæ–‡å­—æŒ‡ä»¤
- **æ„å›¾ç†è§£**ï¼šè§£æç”¨æˆ·æŒ‡ä»¤ï¼Œè¯†åˆ«æ“ä½œæ„å›¾
- **åŠŸèƒ½æ‰§è¡Œ**ï¼šæ‰§è¡Œåª’ä½“æ§åˆ¶ã€ç³»ç»Ÿæ§åˆ¶ã€è½¦è¾†æ§åˆ¶ç­‰æ“ä½œ
- **è¯­éŸ³åé¦ˆ**ï¼šå°†æ‰§è¡Œç»“æœé€šè¿‡TTSæ’­æŠ¥ç»™ç”¨æˆ·

### æŠ€æœ¯æ ˆ
- **è¯­éŸ³è¯†åˆ«**ï¼šç™¾åº¦è¯­éŸ³è¯†åˆ«SDKï¼ˆæ”¯æŒåœ¨çº¿+ç¦»çº¿ï¼‰
- **è¯­éŸ³åˆæˆ**ï¼šç™¾åº¦è¯­éŸ³åˆæˆSDK
- **æ¶æ„æ¨¡å¼**ï¼šMVVM + Repository
- **è¯­è¨€**ï¼šKotlin
- **UIæ¡†æ¶**ï¼šJetpack Composeï¼ˆæ¨èï¼‰æˆ–ä¼ ç»ŸView

---

## æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  UI Layer                        â”‚
â”‚  - MainActivity                                  â”‚
â”‚  - VoiceInputFragment                            â”‚
â”‚  - CommandHistoryFragment                        â”‚
â”‚  - VehicleControlPanelFragment                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ViewModel Layer                     â”‚
â”‚  - VoiceAssistantViewModel                       â”‚
â”‚    â”œâ”€â”€ ç®¡ç†è¯­éŸ³è¯†åˆ«çŠ¶æ€                          â”‚
â”‚    â”œâ”€â”€ ç®¡ç†å‘½ä»¤æ‰§è¡Œç»“æœ                          â”‚
â”‚    â””â”€â”€ ç®¡ç†è½¦è¾†çŠ¶æ€ï¼ˆMockï¼‰                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Business Logic Layer                    â”‚
â”‚  â”œâ”€â”€ VoiceRecognitionManager                    â”‚
â”‚  â”‚   â””â”€â”€ ç™¾åº¦è¯­éŸ³è¯†åˆ«SDKå°è£…                     â”‚
â”‚  â”‚                                              â”‚
â”‚  â”œâ”€â”€ IntentParser                               â”‚
â”‚  â”‚   â””â”€â”€ æ„å›¾è¯†åˆ«ä¸å‘½ä»¤è§£æ                      â”‚
â”‚  â”‚                                              â”‚
â”‚  â”œâ”€â”€ CommandExecutorï¼ˆç­–ç•¥æ¨¡å¼ï¼‰                 â”‚
â”‚  â”‚   â”œâ”€â”€ MediaControlExecutor                  â”‚
â”‚  â”‚   â”œâ”€â”€ SystemControlExecutor                 â”‚
â”‚  â”‚   â”œâ”€â”€ VehicleControlExecutor                â”‚
â”‚  â”‚   â””â”€â”€ InformationQueryExecutor              â”‚
â”‚  â”‚                                              â”‚
â”‚  â””â”€â”€ TTSManager                                 â”‚
â”‚      â””â”€â”€ ç™¾åº¦è¯­éŸ³åˆæˆSDKå°è£…                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Data Layer                          â”‚
â”‚  â”œâ”€â”€ MediaSessionController                     â”‚
â”‚  â”œâ”€â”€ WeatherRepository                          â”‚
â”‚  â”œâ”€â”€ VehicleStateRepositoryï¼ˆMockï¼‰             â”‚
â”‚  â””â”€â”€ SystemServiceManager                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç™¾åº¦SDKé›†æˆæ–¹æ¡ˆ

### 1. SDKé€‰æ‹©

| SDK | ç”¨é€” | æ”¯æŒæ¨¡å¼ | å…è´¹é¢åº¦ |
|-----|------|---------|---------|
| ç™¾åº¦è¯­éŸ³è¯†åˆ«SDK | ASRï¼ˆè¯­éŸ³è½¬æ–‡å­—ï¼‰ | åœ¨çº¿ + ç¦»çº¿ | æ¯æœˆ200å°æ—¶å…è´¹ |
| ç™¾åº¦è¯­éŸ³åˆæˆSDK | TTSï¼ˆæ–‡å­—è½¬è¯­éŸ³ï¼‰ | åœ¨çº¿ | æœ‰å…è´¹é¢åº¦ |

### 2. ç”³è¯·ä¸é…ç½®

#### æ­¥éª¤1ï¼šæ³¨å†Œç™¾åº¦AIå¼€æ”¾å¹³å°
1. è®¿é—®ï¼šhttps://ai.baidu.com/
2. æ³¨å†Œè´¦å·å¹¶å®Œæˆå®åè®¤è¯
3. åˆ›å»ºåº”ç”¨ï¼Œè·å–ï¼š
   - AppID
   - API Key
   - Secret Key

#### æ­¥éª¤2ï¼šæ·»åŠ ä¾èµ–

```kotlin
// build.gradle.kts (Module: app)

dependencies {
    // ç™¾åº¦è¯­éŸ³è¯†åˆ«SDK
    implementation("com.baidu.aip:sdk:4.16.8")
    
    // æˆ–è€…ä½¿ç”¨Mavenæ–¹å¼
    // implementation("com.baidu.speech:asr-android:1.0.0")
    // implementation("com.baidu.speech:tts-android:1.0.0")
}
```

#### æ­¥éª¤3ï¼šé…ç½®æƒé™

```xml
<!-- AndroidManifest.xml -->
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.RECORD_AUDIO" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
<uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
```

#### æ­¥éª¤4ï¼šåˆå§‹åŒ–SDK

```kotlin
// Application.kt
class VoiceAssistantApplication : Application() {
    override fun onCreate() {
        super.onCreate()
        
        // åˆå§‹åŒ–ç™¾åº¦è¯­éŸ³è¯†åˆ«SDK
        SpeechSynthesizer.getInstance().setParam(
            SpeechSynthesizer.PARAM_APP_ID, 
            BuildConfig.BAIDU_APP_ID
        )
        SpeechSynthesizer.getInstance().setParam(
            SpeechSynthesizer.PARAM_API_KEY, 
            BuildConfig.BAIDU_API_KEY
        )
        SpeechSynthesizer.getInstance().setParam(
            SpeechSynthesizer.PARAM_SECRET_KEY, 
            BuildConfig.BAIDU_SECRET_KEY
        )
    }
}
```

### 3. ç™¾åº¦è¯­éŸ³è¯†åˆ«SDKå°è£…

```kotlin
class BaiduSpeechRecognizer(
    private val context: Context,
    private val appId: String,
    private val apiKey: String,
    private val secretKey: String
) {
    private var eventListener: EventListener? = null
    private var asr: Asr? = null
    
    interface EventListener {
        fun onResult(text: String)
        fun onError(errorCode: Int, errorMessage: String)
        fun onVolumeChanged(volume: Int)
    }
    
    fun setEventListener(listener: EventListener) {
        this.eventListener = listener
    }
    
    fun startListening() {
        // åˆå§‹åŒ–ASR
        val map = HashMap<String, Any>()
        map[AsrParams.PROP_APP_ID] = appId
        map[AsrParams.PROP_API_KEY] = apiKey
        map[AsrParams.PROP_SECRET_KEY] = secretKey
        
        // è®¾ç½®è¯†åˆ«å‚æ•°
        map[AsrParams.PROP_LANGUAGE] = "zh"
        map[AsrParams.PROP_PUNCTUATION] = 1 // å¼€å¯æ ‡ç‚¹ç¬¦å·
        map[AsrParams.PROP_AUDIO_ENCODING] = "pcm"
        map[AsrParams.PROP_VAD] = AsrParams.VAD_DNN
        
        asr = Asr.getInstance(context)
        asr?.setEventListener(object : AsrListener {
            override fun onAsrReady() {
                // å‡†å¤‡å°±ç»ª
            }
            
            override fun onAsrBegin() {
                // å¼€å§‹è¯†åˆ«
            }
            
            override fun onAsrEnd() {
                // è¯†åˆ«ç»“æŸ
            }
            
            override fun onAsrPartialResult(
                results: Array<String>?, 
                recogResult: RecogResult
            ) {
                // éƒ¨åˆ†è¯†åˆ«ç»“æœï¼ˆå®æ—¶ï¼‰
                results?.firstOrNull()?.let {
                    eventListener?.onResult(it)
                }
            }
            
            override fun onAsrFinalResult(
                results: Array<String>?, 
                recogResult: RecogResult
            ) {
                // æœ€ç»ˆè¯†åˆ«ç»“æœ
                results?.firstOrNull()?.let {
                    eventListener?.onResult(it)
                }
            }
            
            override fun onAsrFinish(result: RecogResult) {
                // è¯†åˆ«å®Œæˆ
            }
            
            override fun onAsrFinishError(
                errorCode: Int, 
                subErrorCode: Int, 
                descMessage: String, 
                recogResult: RecogResult
            ) {
                eventListener?.onError(errorCode, descMessage)
            }
            
            override fun onAsrLongFinish() {
                // é•¿è¯­éŸ³è¯†åˆ«å®Œæˆ
            }
            
            override fun onAsrVolume(
                volumePercent: Int, 
                volume: Int
            ) {
                eventListener?.onVolumeChanged(volume)
            }
            
            override fun onAsrAudio(
                data: ByteArray, 
                offset: Int, 
                length: Int
            ) {
                // éŸ³é¢‘æ•°æ®å›è°ƒ
            }
            
            override fun onAsrExit() {
                // é€€å‡º
            }
        })
        
        asr?.start(map)
    }
    
    fun stopListening() {
        asr?.stop()
    }
    
    fun cancel() {
        asr?.cancel()
    }
    
    fun release() {
        asr?.release()
    }
}
```

### 4. ç™¾åº¦è¯­éŸ³åˆæˆSDKå°è£…

```kotlin
class BaiduTTSManager(
    private val context: Context,
    private val appId: String,
    private val apiKey: String,
    private val secretKey: String
) {
    private var synthesizer: SpeechSynthesizer? = null
    
    fun init() {
        synthesizer = SpeechSynthesizer.getInstance()
        synthesizer?.setParam(SpeechSynthesizer.PARAM_APP_ID, appId)
        synthesizer?.setParam(SpeechSynthesizer.PARAM_API_KEY, apiKey)
        synthesizer?.setParam(SpeechSynthesizer.PARAM_SECRET_KEY, secretKey)
        
        // è®¾ç½®å‘éŸ³äººï¼ˆå¯é€‰ï¼‰
        synthesizer?.setParam(
            SpeechSynthesizer.PARAM_SPEAKER, 
            "1" // 0-å¥³å£°ï¼Œ1-ç”·å£°
        )
        
        // è®¾ç½®è¯­é€Ÿï¼ˆ0-15ï¼‰
        synthesizer?.setParam(SpeechSynthesizer.PARAM_SPEED, "5")
        
        // è®¾ç½®éŸ³è°ƒï¼ˆ0-15ï¼‰
        synthesizer?.setParam(SpeechSynthesizer.PARAM_PITCH, "5")
        
        // è®¾ç½®éŸ³é‡ï¼ˆ0-15ï¼‰
        synthesizer?.setParam(SpeechSynthesizer.PARAM_VOLUME, "5")
        
        synthesizer?.initTts(TtsMode.ONLINE)
    }
    
    fun speak(text: String, listener: SynthesizerListener? = null) {
        synthesizer?.speak(text, object : SynthesizerListener {
            override fun onSynthesizeStart(utteranceId: String?) {
                listener?.onSynthesizeStart(utteranceId)
            }
            
            override fun onSynthesizeDataArrived(
                utteranceId: String?, 
                data: ByteArray?, 
                progress: Int
            ) {
                listener?.onSynthesizeDataArrived(utteranceId, data, progress)
            }
            
            override fun onSynthesizeFinish(utteranceId: String?) {
                listener?.onSynthesizeFinish(utteranceId)
            }
            
            override fun onSpeechStart(utteranceId: String?) {
                listener?.onSpeechStart(utteranceId)
            }
            
            override fun onSpeechProgressChanged(
                utteranceId: String?, 
                progress: Int
            ) {
                listener?.onSpeechProgressChanged(utteranceId, progress)
            }
            
            override fun onSpeechFinish(utteranceId: String?) {
                listener?.onSpeechFinish(utteranceId)
            }
            
            override fun onError(
                utteranceId: String?, 
                speechError: SpeechError?
            ) {
                listener?.onError(utteranceId, speechError)
            }
        })
    }
    
    fun stop() {
        synthesizer?.stop()
    }
    
    fun pause() {
        synthesizer?.pause()
    }
    
    fun resume() {
        synthesizer?.resume()
    }
    
    fun release() {
        synthesizer?.release()
    }
    
    interface SynthesizerListener {
        fun onSynthesizeStart(utteranceId: String?) {}
        fun onSynthesizeDataArrived(
            utteranceId: String?, 
            data: ByteArray?, 
            progress: Int
        ) {}
        fun onSynthesizeFinish(utteranceId: String?) {}
        fun onSpeechStart(utteranceId: String?) {}
        fun onSpeechProgressChanged(utteranceId: String?, progress: Int) {}
        fun onSpeechFinish(utteranceId: String?) {}
        fun onError(utteranceId: String?, speechError: SpeechError?) {}
    }
}
```

---

## åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡

### æ¨¡å—1ï¼šåª’ä½“æ§åˆ¶æ¨¡å—

#### åŠŸèƒ½åˆ—è¡¨ï¼ˆçœŸå®å®ç°ï¼‰

| åŠŸèƒ½ | æŒ‡ä»¤ç¤ºä¾‹ | æŠ€æœ¯å®ç° | è¿”å›å€¼ |
|------|---------|---------|--------|
| æ’­æ”¾ | "æ’­æ”¾éŸ³ä¹"ã€"å¼€å§‹æ’­æ”¾" | `MediaSession.TransportControls.play()` | "æ­£åœ¨æ’­æ”¾éŸ³ä¹" |
| æš‚åœ | "æš‚åœ"ã€"åœæ­¢æ’­æ”¾" | `MediaSession.TransportControls.pause()` | "å·²æš‚åœæ’­æ”¾" |
| åœæ­¢ | "åœæ­¢" | `MediaSession.TransportControls.stop()` | "å·²åœæ­¢æ’­æ”¾" |
| ä¸‹ä¸€é¦– | "ä¸‹ä¸€é¦–"ã€"ä¸‹ä¸€æ›²" | `MediaSession.TransportControls.skipToNext()` | "ä¸‹ä¸€é¦–" |
| ä¸Šä¸€é¦– | "ä¸Šä¸€é¦–"ã€"ä¸Šä¸€æ›²" | `MediaSession.TransportControls.skipToPrevious()` | "ä¸Šä¸€é¦–" |
| éŸ³é‡å¢å¤§ | "éŸ³é‡è°ƒå¤§"ã€"å£°éŸ³å¤§ä¸€ç‚¹" | `AudioManager.adjustVolume(ADJUST_RAISE)` | "éŸ³é‡å·²è°ƒé«˜" |
| éŸ³é‡å‡å° | "éŸ³é‡è°ƒå°"ã€"å£°éŸ³å°ä¸€ç‚¹" | `AudioManager.adjustVolume(ADJUST_LOWER)` | "éŸ³é‡å·²è°ƒä½" |
| é™éŸ³ | "é™éŸ³" | `AudioManager.adjustVolume(ADJUST_MUTE)` | "å·²é™éŸ³" |
| å–æ¶ˆé™éŸ³ | "å–æ¶ˆé™éŸ³" | `AudioManager.adjustVolume(ADJUST_UNMUTE)` | "å·²å–æ¶ˆé™éŸ³" |

#### ä»£ç å®ç°

```kotlin
class MediaControlExecutor(private val context: Context) {
    private val audioManager = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager
    private var mediaController: MediaController? = null
    
    init {
        // è·å–å½“å‰MediaSessionçš„Controller
        val mediaSessionManager = MediaSessionManager(context)
        val sessions = mediaSessionManager.getActiveSessions(null)
        sessions.firstOrNull()?.let { 
            mediaController = MediaController(context, it.sessionToken)
        }
    }
    
    fun execute(command: MediaCommand): CommandResult {
        return when (command.type) {
            MediaCommandType.PLAY -> {
                mediaController?.transportControls?.play()
                CommandResult.Success("æ­£åœ¨æ’­æ”¾éŸ³ä¹")
            }
            
            MediaCommandType.PAUSE -> {
                mediaController?.transportControls?.pause()
                CommandResult.Success("å·²æš‚åœæ’­æ”¾")
            }
            
            MediaCommandType.STOP -> {
                mediaController?.transportControls?.stop()
                CommandResult.Success("å·²åœæ­¢æ’­æ”¾")
            }
            
            MediaCommandType.NEXT -> {
                mediaController?.transportControls?.skipToNext()
                CommandResult.Success("ä¸‹ä¸€é¦–")
            }
            
            MediaCommandType.PREVIOUS -> {
                mediaController?.transportControls?.skipToPrevious()
                CommandResult.Success("ä¸Šä¸€é¦–")
            }
            
            MediaCommandType.VOLUME_UP -> {
                audioManager.adjustVolume(
                    AudioManager.ADJUST_RAISE,
                    AudioManager.FLAG_SHOW_UI
                )
                val currentVolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC)
                val maxVolume = audioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC)
                CommandResult.Success("éŸ³é‡å·²è°ƒé«˜ï¼Œå½“å‰éŸ³é‡${currentVolume}/${maxVolume}")
            }
            
            MediaCommandType.VOLUME_DOWN -> {
                audioManager.adjustVolume(
                    AudioManager.ADJUST_LOWER,
                    AudioManager.FLAG_SHOW_UI
                )
                val currentVolume = audioManager.getStreamVolume(AudioManager.STREAM_MUSIC)
                CommandResult.Success("éŸ³é‡å·²è°ƒä½ï¼Œå½“å‰éŸ³é‡${currentVolume}")
            }
            
            MediaCommandType.MUTE -> {
                audioManager.adjustVolume(AudioManager.ADJUST_MUTE, 0)
                CommandResult.Success("å·²é™éŸ³")
            }
            
            MediaCommandType.UNMUTE -> {
                audioManager.adjustVolume(AudioManager.ADJUST_UNMUTE, 0)
                CommandResult.Success("å·²å–æ¶ˆé™éŸ³")
            }
            
            else -> CommandResult.Error("æš‚ä¸æ”¯æŒæ­¤åŠŸèƒ½")
        }
    }
}

enum class MediaCommandType {
    PLAY, PAUSE, STOP, NEXT, PREVIOUS,
    VOLUME_UP, VOLUME_DOWN, MUTE, UNMUTE
}

sealed class CommandResult {
    data class Success(val message: String) : CommandResult()
    data class Error(val message: String) : CommandResult()
}
```

---

### æ¨¡å—2ï¼šç³»ç»Ÿæ§åˆ¶æ¨¡å—

#### åŠŸèƒ½åˆ—è¡¨

**çœŸå®å¯å®ç°ï¼š**

| åŠŸèƒ½ | æŒ‡ä»¤ç¤ºä¾‹ | æŠ€æœ¯å®ç° | æƒé™ |
|------|---------|---------|------|
| äº®åº¦å¢åŠ  | "å±å¹•äº®ä¸€ç‚¹" | `Settings.System.putInt(SCREEN_BRIGHTNESS)` | `WRITE_SETTINGS` |
| äº®åº¦å‡å°‘ | "å±å¹•æš—ä¸€ç‚¹" | `Settings.System.putInt(SCREEN_BRIGHTNESS)` | `WRITE_SETTINGS` |
| æ‰“å¼€WiFi | "æ‰“å¼€WiFi" | `WifiManager.isWifiEnabled = true` | `CHANGE_WIFI_STATE` |
| å…³é—­WiFi | "å…³é—­WiFi" | `WifiManager.isWifiEnabled = false` | `CHANGE_WIFI_STATE` |
| æ‰“å¼€è“ç‰™ | "æ‰“å¼€è“ç‰™" | `BluetoothAdapter.enable()` | `BLUETOOTH_ADMIN` |
| å…³é—­è“ç‰™ | "å…³é—­è“ç‰™" | `BluetoothAdapter.disable()` | `BLUETOOTH_ADMIN` |
| æ‰“å¼€è®¾ç½® | "æ‰“å¼€è®¾ç½®" | `Intent(ACTION_SETTINGS)` | æ— éœ€æƒé™ |

**MockåŠŸèƒ½ï¼š**

| åŠŸèƒ½ | æŒ‡ä»¤ç¤ºä¾‹ | åé¦ˆæ–¹å¼ |
|------|---------|---------|
| é£è¡Œæ¨¡å¼ | "æ‰“å¼€é£è¡Œæ¨¡å¼" | Mockåé¦ˆ + TTS |

#### ä»£ç å®ç°

```kotlin
class SystemControlExecutor(private val context: Context) {
    private val brightnessExecutor = BrightnessControlExecutor(context)
    private val wifiExecutor = WifiControlExecutor(context)
    private val bluetoothExecutor = BluetoothControlExecutor(context)
    
    fun execute(command: SystemCommand): CommandResult {
        return when (command.type) {
            SystemCommandType.BRIGHTNESS_UP -> brightnessExecutor.increase()
            SystemCommandType.BRIGHTNESS_DOWN -> brightnessExecutor.decrease()
            SystemCommandType.WIFI_ON -> wifiExecutor.enable()
            SystemCommandType.WIFI_OFF -> wifiExecutor.disable()
            SystemCommandType.BLUETOOTH_ON -> bluetoothExecutor.enable()
            SystemCommandType.BLUETOOTH_OFF -> bluetoothExecutor.disable()
            SystemCommandType.OPEN_SETTINGS -> openSettings()
            else -> CommandResult.Error("æš‚ä¸æ”¯æŒæ­¤åŠŸèƒ½")
        }
    }
    
    private fun openSettings(): CommandResult {
        return try {
            val intent = Intent(Settings.ACTION_SETTINGS)
            context.startActivity(intent)
            CommandResult.Success("å·²æ‰“å¼€è®¾ç½®")
        } catch (e: Exception) {
            CommandResult.Error("æ— æ³•æ‰“å¼€è®¾ç½®")
        }
    }
}

class BrightnessControlExecutor(private val context: Context) {
    private val contentResolver = context.contentResolver
    
    fun increase(): CommandResult {
        val current = getCurrentBrightness()
        val newValue = (current + 25).coerceIn(0, 255)
        setBrightness(newValue)
        return CommandResult.Success("å±å¹•äº®åº¦å·²è°ƒé«˜")
    }
    
    fun decrease(): CommandResult {
        val current = getCurrentBrightness()
        val newValue = (current - 25).coerceIn(0, 255)
        setBrightness(newValue)
        return CommandResult.Success("å±å¹•äº®åº¦å·²è°ƒä½")
    }
    
    private fun setBrightness(value: Int) {
        Settings.System.putInt(
            contentResolver,
            Settings.System.SCREEN_BRIGHTNESS,
            value.coerceIn(0, 255)
        )
    }
    
    private fun getCurrentBrightness(): Int {
        return Settings.System.getInt(
            contentResolver,
            Settings.System.SCREEN_BRIGHTNESS,
            128
        )
    }
}

class WifiControlExecutor(private val context: Context) {
    private val wifiManager = context.applicationContext
        .getSystemService(Context.WIFI_SERVICE) as WifiManager
    
    fun enable(): CommandResult {
        return try {
            wifiManager.isWifiEnabled = true
            CommandResult.Success("WiFiå·²æ‰“å¼€")
        } catch (e: Exception) {
            CommandResult.Error("æ— æ³•æ‰“å¼€WiFi: ${e.message}")
        }
    }
    
    fun disable(): CommandResult {
        return try {
            wifiManager.isWifiEnabled = false
            CommandResult.Success("WiFiå·²å…³é—­")
        } catch (e: Exception) {
            CommandResult.Error("æ— æ³•å…³é—­WiFi: ${e.message}")
        }
    }
}

class BluetoothControlExecutor(private val context: Context) {
    private val bluetoothAdapter = BluetoothAdapter.getDefaultAdapter()
    
    fun enable(): CommandResult {
        return if (bluetoothAdapter == null) {
            CommandResult.Error("è®¾å¤‡ä¸æ”¯æŒè“ç‰™")
        } else {
            bluetoothAdapter.enable()
            CommandResult.Success("è“ç‰™å·²æ‰“å¼€")
        }
    }
    
    fun disable(): CommandResult {
        return if (bluetoothAdapter == null) {
            CommandResult.Error("è®¾å¤‡ä¸æ”¯æŒè“ç‰™")
        } else {
            bluetoothAdapter.disable()
            CommandResult.Success("è“ç‰™å·²å…³é—­")
        }
    }
}

enum class SystemCommandType {
    BRIGHTNESS_UP, BRIGHTNESS_DOWN,
    WIFI_ON, WIFI_OFF,
    BLUETOOTH_ON, BLUETOOTH_OFF,
    OPEN_SETTINGS
}
```

---

### æ¨¡å—3ï¼šè½¦è¾†æ§åˆ¶æ¨¡å—ï¼ˆMockï¼‰

#### åŠŸèƒ½åˆ—è¡¨

è¯¦è§ä¹‹å‰çš„è¯¦ç»†è®¾è®¡æ–‡æ¡£ï¼ŒåŒ…æ‹¬ï¼š
- ç©ºè°ƒæ§åˆ¶ï¼ˆå¼€/å…³/æ¸©åº¦/é£é€Ÿ/æ¨¡å¼ï¼‰
- åº§æ¤…æ§åˆ¶ï¼ˆä½ç½®/åŠ çƒ­/é€šé£ï¼‰
- è½¦çª—æ§åˆ¶ï¼ˆå‰çª—/åçª—/å¤©çª—ï¼‰
- ç¯å…‰æ§åˆ¶ï¼ˆå¤§ç¯/æ°›å›´ç¯ï¼‰
- è½¦é—¨æ§åˆ¶ï¼ˆé”è½¦/è§£é”/åå¤‡ç®±ï¼‰
- å¯åŠ¨æ§åˆ¶ï¼ˆå¯åŠ¨/ç†„ç«ï¼‰

#### ä»£ç å®ç°æ¡†æ¶

```kotlin
data class VehicleState(
    var ac: ACState = ACState(),
    var seat: SeatState = SeatState(),
    var window: WindowState = WindowState(),
    var light: LightState = LightState(),
    var door: DoorState = DoorState(),
    var engine: EngineState = EngineState()
)

data class ACState(
    var isOn: Boolean = false,
    var temperature: Int = 24,  // 16-32åº¦
    var fanSpeed: Int = 3,      // 1-5æ¡£
    var mode: ACMode = ACMode.AUTO
)

enum class ACMode {
    AUTO, COOL, HEAT
}

class VehicleControlExecutor {
    private val vehicleState = MutableStateFlow(VehicleState())
    
    fun getState(): Flow<VehicleState> = vehicleState.asStateFlow()
    
    fun execute(command: VehicleCommand): CommandResult {
        val currentState = vehicleState.value
        val newState = when (command.type) {
            VehicleCommandType.AC_ON -> {
                currentState.copy(ac = currentState.ac.copy(isOn = true))
            }
            VehicleCommandType.AC_OFF -> {
                currentState.copy(ac = currentState.ac.copy(isOn = false))
            }
            VehicleCommandType.AC_TEMP_UP -> {
                val newTemp = (currentState.ac.temperature + 1).coerceIn(16, 32)
                currentState.copy(
                    ac = currentState.ac.copy(temperature = newTemp)
                )
            }
            VehicleCommandType.AC_TEMP_DOWN -> {
                val newTemp = (currentState.ac.temperature - 1).coerceIn(16, 32)
                currentState.copy(
                    ac = currentState.ac.copy(temperature = newTemp)
                )
            }
            VehicleCommandType.AC_TEMP_SET -> {
                val temp = extractNumber(command.text)?.coerceIn(16, 32) ?: 24
                currentState.copy(
                    ac = currentState.ac.copy(temperature = temp)
                )
            }
            // ... å…¶ä»–å‘½ä»¤
            else -> currentState
        }
        
        vehicleState.value = newState
        return generateFeedback(command, newState)
    }
    
    private fun generateFeedback(
        command: VehicleCommand, 
        state: VehicleState
    ): CommandResult {
        return when (command.type) {
            VehicleCommandType.AC_ON -> 
                CommandResult.Success("ç©ºè°ƒå·²æ‰“å¼€ï¼Œå½“å‰æ¸©åº¦${state.ac.temperature}åº¦")
            VehicleCommandType.AC_TEMP_UP -> 
                CommandResult.Success("æ¸©åº¦å·²è°ƒé«˜è‡³${state.ac.temperature}åº¦")
            // ... å…¶ä»–åé¦ˆ
            else -> CommandResult.Success("æ“ä½œå·²æ‰§è¡Œ")
        }
    }
    
    private fun extractNumber(text: String): Int? {
        val regex = """(\d+)""".toRegex()
        return regex.find(text)?.value?.toInt()
    }
}
```

---

### æ¨¡å—4ï¼šä¿¡æ¯æŸ¥è¯¢æ¨¡å—

#### åŠŸèƒ½åˆ—è¡¨

| åŠŸèƒ½ | æŒ‡ä»¤ç¤ºä¾‹ | å®ç°æ–¹å¼ | è¿”å›å€¼ç¤ºä¾‹ |
|------|---------|---------|-----------|
| å½“å‰æ—¶é—´ | "ç°åœ¨å‡ ç‚¹" | `SimpleDateFormat` | "ç°åœ¨æ—¶é—´æ˜¯14ç‚¹30åˆ†" |
| å½“å‰æ—¥æœŸ | "ä»Šå¤©å‡ å·" | `SimpleDateFormat` | "ä»Šå¤©æ˜¯2024å¹´1æœˆ15æ—¥" |
| æ˜ŸæœŸå‡  | "ä»Šå¤©æ˜ŸæœŸå‡ " | `Calendar.DAY_OF_WEEK` | "ä»Šå¤©æ˜¯æ˜ŸæœŸä¸€" |
| å¤©æ°”æŸ¥è¯¢ | "ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·" | è°ƒç”¨å¤©æ°”API | "åŒ—äº¬ä»Šå¤©æ™´å¤©ï¼Œæ¸©åº¦25åº¦" |
| è®¡ç®—å™¨ | "100åŠ 200ç­‰äºå¤šå°‘" | æ­£åˆ™è§£æ | "ç­‰äº300" |
| å•ä½æ¢ç®— | "100å…¬é‡Œç­‰äºå¤šå°‘ç±³" | å•ä½æ¢ç®—é€»è¾‘ | "100å…¬é‡Œç­‰äº100000ç±³" |

#### ä»£ç å®ç°

```kotlin
class TimeQueryExecutor {
    fun getCurrentTime(): String {
        val sdf = SimpleDateFormat("HHç‚¹mmåˆ†", Locale.CHINESE)
        return "ç°åœ¨æ—¶é—´æ˜¯${sdf.format(Date())}"
    }
    
    fun getCurrentDate(): String {
        val sdf = SimpleDateFormat("yyyyå¹´MMæœˆddæ—¥", Locale.CHINESE)
        return "ä»Šå¤©æ˜¯${sdf.format(Date())}"
    }
    
    fun getDayOfWeek(): String {
        val calendar = Calendar.getInstance()
        val day = calendar.get(Calendar.DAY_OF_WEEK)
        val weekdays = arrayOf(
            "", "æ˜ŸæœŸæ—¥", "æ˜ŸæœŸä¸€", "æ˜ŸæœŸäºŒ", 
            "æ˜ŸæœŸä¸‰", "æ˜ŸæœŸå››", "æ˜ŸæœŸäº”", "æ˜ŸæœŸå…­"
        )
        return "ä»Šå¤©æ˜¯${weekdays[day]}"
    }
}

class WeatherQueryExecutor(
    private val weatherRepository: WeatherRepository
) {
    suspend fun getWeather(city: String? = null): String {
        val queryCity = city ?: getCurrentCity()
        val weather = weatherRepository.getCurrentWeather(queryCity)
        
        return "${queryCity}ä»Šå¤©${weather.description}ï¼Œæ¸©åº¦${weather.temperature}åº¦ï¼Œ" +
               "æ¹¿åº¦${weather.humidity}%ï¼Œ${weather.windDirection}é£${weather.windSpeed}çº§"
    }
    
    private fun getCurrentCity(): String {
        // é€šè¿‡GPSå®šä½è·å–åŸå¸‚ï¼Œæˆ–è¿”å›é»˜è®¤åŸå¸‚
        return "åŒ—äº¬"
    }
}

class CalculatorExecutor {
    fun calculate(text: String): String? {
        val pattern = """(\d+)\s*(åŠ |å‡|ä¹˜|é™¤ä»¥|[\+\-\*/])\s*(\d+)""".toRegex()
        val match = pattern.find(text) ?: return null
        
        val num1 = match.groupValues[1].toDouble()
        val operator = match.groupValues[2]
        val num2 = match.groupValues[3].toDouble()
        
        val result = when (operator) {
            "åŠ ", "+" -> num1 + num2
            "å‡", "-" -> num1 - num2
            "ä¹˜", "*", "Ã—" -> num1 * num2
            "é™¤ä»¥", "é™¤", "/", "Ã·" -> if (num2 != 0.0) num1 / num2 else null
            else -> null
        }
        
        return result?.let { "ç­‰äº${it.toInt()}" }
    }
}
```

---

### æ¨¡å—5ï¼šæ„å›¾è¯†åˆ«æ¨¡å—

#### åŠŸèƒ½
- è§£æç”¨æˆ·è¯­éŸ³è¯†åˆ«ç»“æœ
- è¯†åˆ«ç”¨æˆ·æ„å›¾ç±»å‹
- æå–å‘½ä»¤å‚æ•°
- åˆ†å‘åˆ°å¯¹åº”çš„æ‰§è¡Œå™¨

#### ä»£ç å®ç°

```kotlin
class IntentParser {
    fun parse(text: String): ParsedIntent? {
        val normalizedText = text.lowercase(Locale.getDefault())
        
        // åª’ä½“æ§åˆ¶
        when {
            normalizedText.contains("æ’­æ”¾") && !normalizedText.contains("æš‚åœ") -> {
                return ParsedIntent(IntentType.MEDIA_PLAY, emptyMap())
            }
            normalizedText.contains("æš‚åœ") || normalizedText.contains("åœæ­¢") -> {
                return ParsedIntent(IntentType.MEDIA_PAUSE, emptyMap())
            }
            normalizedText.contains("ä¸‹ä¸€é¦–") || normalizedText.contains("ä¸‹ä¸€æ›²") -> {
                return ParsedIntent(IntentType.MEDIA_NEXT, emptyMap())
            }
            normalizedText.contains("ä¸Šä¸€é¦–") || normalizedText.contains("ä¸Šä¸€æ›²") -> {
                return ParsedIntent(IntentType.MEDIA_PREVIOUS, emptyMap())
            }
            (normalizedText.contains("éŸ³é‡") || normalizedText.contains("å£°éŸ³")) && 
            (normalizedText.contains("å¤§") || normalizedText.contains("é«˜") || normalizedText.contains("åŠ ")) -> {
                return ParsedIntent(IntentType.VOLUME_UP, emptyMap())
            }
            (normalizedText.contains("éŸ³é‡") || normalizedText.contains("å£°éŸ³")) && 
            (normalizedText.contains("å°") || normalizedText.contains("ä½") || normalizedText.contains("å‡")) -> {
                return ParsedIntent(IntentType.VOLUME_DOWN, emptyMap())
            }
            normalizedText.contains("é™éŸ³") -> {
                return ParsedIntent(IntentType.MUTE, emptyMap())
            }
        }
        
        // ç³»ç»Ÿæ§åˆ¶
        when {
            (normalizedText.contains("å±å¹•") || normalizedText.contains("äº®åº¦")) && 
            (normalizedText.contains("äº®") || normalizedText.contains("é«˜")) -> {
                return ParsedIntent(IntentType.BRIGHTNESS_UP, emptyMap())
            }
            (normalizedText.contains("å±å¹•") || normalizedText.contains("äº®åº¦")) && 
            (normalizedText.contains("æš—") || normalizedText.contains("ä½")) -> {
                return ParsedIntent(IntentType.BRIGHTNESS_DOWN, emptyMap())
            }
            normalizedText.contains("wifi") && 
            (normalizedText.contains("æ‰“å¼€") || normalizedText.contains("å¼€å¯")) -> {
                return ParsedIntent(IntentType.WIFI_ON, emptyMap())
            }
            normalizedText.contains("wifi") && 
            normalizedText.contains("å…³é—­") -> {
                return ParsedIntent(IntentType.WIFI_OFF, emptyMap())
            }
            normalizedText.contains("è“ç‰™") && 
            (normalizedText.contains("æ‰“å¼€") || normalizedText.contains("å¼€å¯")) -> {
                return ParsedIntent(IntentType.BLUETOOTH_ON, emptyMap())
            }
            normalizedText.contains("è“ç‰™") && 
            normalizedText.contains("å…³é—­") -> {
                return ParsedIntent(IntentType.BLUETOOTH_OFF, emptyMap())
            }
            normalizedText.contains("è®¾ç½®") -> {
                return ParsedIntent(IntentType.OPEN_SETTINGS, emptyMap())
            }
        }
        
        // è½¦è¾†æ§åˆ¶
        when {
            normalizedText.contains("ç©ºè°ƒ") && 
            (normalizedText.contains("æ‰“å¼€") || normalizedText.contains("å¼€å¯")) -> {
                return ParsedIntent(IntentType.AC_ON, emptyMap())
            }
            normalizedText.contains("ç©ºè°ƒ") && normalizedText.contains("å…³é—­") -> {
                return ParsedIntent(IntentType.AC_OFF, emptyMap())
            }
            normalizedText.contains("æ¸©åº¦") && 
            (normalizedText.contains("é«˜") || normalizedText.contains("åŠ ") || normalizedText.contains("è°ƒé«˜")) -> {
                return ParsedIntent(IntentType.AC_TEMP_UP, emptyMap())
            }
            normalizedText.contains("æ¸©åº¦") && 
            (normalizedText.contains("ä½") || normalizedText.contains("å‡") || normalizedText.contains("è°ƒä½")) -> {
                return ParsedIntent(IntentType.AC_TEMP_DOWN, emptyMap())
            }
            normalizedText.contains("æ¸©åº¦") && normalizedText.contains("è°ƒåˆ°") -> {
                val temp = extractNumber(text)
                return ParsedIntent(IntentType.AC_TEMP_SET, mapOf("temperature" to temp.toString()))
            }
            // ... å…¶ä»–è½¦è¾†æ§åˆ¶å‘½ä»¤
        }
        
        // ä¿¡æ¯æŸ¥è¯¢
        when {
            normalizedText.contains("ç°åœ¨å‡ ç‚¹") || normalizedText.contains("å‡ ç‚¹äº†") -> {
                return ParsedIntent(IntentType.QUERY_TIME, emptyMap())
            }
            normalizedText.contains("ä»Šå¤©å‡ å·") || normalizedText.contains("æ—¥æœŸ") -> {
                return ParsedIntent(IntentType.QUERY_DATE, emptyMap())
            }
            normalizedText.contains("æ˜ŸæœŸå‡ ") -> {
                return ParsedIntent(IntentType.QUERY_DAY_OF_WEEK, emptyMap())
            }
            normalizedText.contains("å¤©æ°”") -> {
                val city = extractCity(text)
                return ParsedIntent(IntentType.QUERY_WEATHER, mapOf("city" to city))
            }
            (normalizedText.contains("ç­‰äº") || normalizedText.contains("åŠ ") || 
             normalizedText.contains("å‡") || normalizedText.contains("ä¹˜") || 
             normalizedText.contains("é™¤")) && 
            normalizedText.any { it.isDigit() } -> {
                return ParsedIntent(IntentType.CALCULATE, mapOf("expression" to text))
            }
        }
        
        return ParsedIntent(IntentType.UNKNOWN, emptyMap())
    }
    
    private fun extractNumber(text: String): Int? {
        val regex = """(\d+)""".toRegex()
        return regex.find(text)?.value?.toInt()
    }
    
    private fun extractCity(text: String): String {
        // ç®€å•çš„åŸå¸‚æå–é€»è¾‘ï¼Œå¯ä»¥æ‰©å±•
        val cities = listOf("åŒ—äº¬", "ä¸Šæµ·", "å¹¿å·", "æ·±åœ³", "æ­å·", "å—äº¬", "æˆéƒ½", "é‡åº†")
        cities.forEach { city ->
            if (text.contains(city)) return city
        }
        return "åŒ—äº¬" // é»˜è®¤åŸå¸‚
    }
}

data class ParsedIntent(
    val type: IntentType,
    val params: Map<String, String>
)

enum class IntentType {
    // åª’ä½“æ§åˆ¶
    MEDIA_PLAY, MEDIA_PAUSE, MEDIA_STOP,
    MEDIA_NEXT, MEDIA_PREVIOUS,
    VOLUME_UP, VOLUME_DOWN, MUTE, UNMUTE,
    
    // ç³»ç»Ÿæ§åˆ¶
    BRIGHTNESS_UP, BRIGHTNESS_DOWN,
    WIFI_ON, WIFI_OFF,
    BLUETOOTH_ON, BLUETOOTH_OFF,
    OPEN_SETTINGS,
    
    // è½¦è¾†æ§åˆ¶
    AC_ON, AC_OFF, AC_TEMP_UP, AC_TEMP_DOWN, AC_TEMP_SET,
    AC_FAN_UP, AC_FAN_DOWN, AC_MODE_AUTO, AC_MODE_COOL, AC_MODE_HEAT,
    SEAT_FORWARD, SEAT_BACKWARD, SEAT_HEAT_ON, SEAT_HEAT_OFF,
    WINDOW_OPEN, WINDOW_CLOSE, SUNROOF_OPEN, SUNROOF_CLOSE,
    LIGHT_ON, LIGHT_OFF, LIGHT_AUTO,
    DOOR_LOCK, DOOR_UNLOCK, TRUNK_OPEN, TRUNK_CLOSE,
    ENGINE_START, ENGINE_STOP,
    
    // ä¿¡æ¯æŸ¥è¯¢
    QUERY_TIME, QUERY_DATE, QUERY_DAY_OF_WEEK,
    QUERY_WEATHER, CALCULATE,
    
    UNKNOWN
}
```

---

## UIç•Œé¢è®¾è®¡

### ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤ è½¦è½½è¯­éŸ³åŠ©æ‰‹                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚         [å¤§å‹éº¦å…‹é£æŒ‰é’®]                 â”‚
â”‚         "ç‚¹å‡»è¯´è¯"                       â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [è¯­éŸ³æ³¢å½¢åŠ¨ç”»åŒºåŸŸ]                â”‚   â”‚
â”‚  â”‚ "æ­£åœ¨è†å¬..." / "è¯†åˆ«ä¸­..."       â”‚   â”‚
â”‚  â”‚ [éŸ³é‡æ³¢å½¢å¯è§†åŒ–]                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¯¹è¯å†å²ï¼š                              â”‚
â”‚  ğŸ‘¤ "æ’­æ”¾éŸ³ä¹"                          â”‚
â”‚  ğŸ¤– "æ­£åœ¨æ’­æ”¾éŸ³ä¹"                      â”‚
â”‚                                         â”‚
â”‚  ğŸ‘¤ "æ‰“å¼€ç©ºè°ƒ"                          â”‚
â”‚  ğŸ¤– "ç©ºè°ƒå·²æ‰“å¼€ï¼Œå½“å‰æ¸©åº¦24åº¦"          â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å¿«æ·å‘½ä»¤ï¼š                              â”‚
â”‚  [æ’­æ”¾éŸ³ä¹] [æ‰“å¼€å¯¼èˆª] [æŸ¥è¯¢å¤©æ°”]        â”‚
â”‚  [æ‰“å¼€ç©ºè°ƒ] [è°ƒèŠ‚éŸ³é‡] [æŸ¥è¯¢æ—¶é—´]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è½¦è¾†æ§åˆ¶é¢æ¿ï¼ˆå¯é€‰ï¼Œä¾§è¾¹æ æˆ–åº•éƒ¨æŠ½å±‰ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è½¦è¾†çŠ¶æ€               [Ã—]              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŒ¡ï¸ ç©ºè°ƒï¼šå¼€  |  24Â°C  |  é£é€Ÿ3         â”‚
â”‚  ğŸ’º åº§æ¤…ï¼šä½ç½®3  |  åŠ çƒ­ï¼šå…³              â”‚
â”‚  ğŸªŸ è½¦çª—ï¼šå‰50%  |  åï¼šå…³               â”‚
â”‚  ğŸ’¡ ç¯å…‰ï¼šè‡ªåŠ¨  |  æ°›å›´ç¯ï¼šè“è‰²          â”‚
â”‚  ğŸ”’ è½¦é—¨ï¼šå·²é”                           â”‚
â”‚  ğŸš— çŠ¶æ€ï¼šè¿è¡Œä¸­                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å¼€å‘è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¡†æ¶æ­å»ºï¼ˆ1å‘¨ï¼‰
- [x] é¡¹ç›®ç»“æ„æ­å»º
- [x] ç™¾åº¦SDKé›†æˆ
- [x] åŸºç¡€UIæ¡†æ¶
- [x] MVVMæ¶æ„æ­å»º

### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘ï¼ˆ2å‘¨ï¼‰
- [ ] è¯­éŸ³è¯†åˆ«åŠŸèƒ½
- [ ] è¯­éŸ³åˆæˆåŠŸèƒ½
- [ ] æ„å›¾è¯†åˆ«æ¨¡å—
- [ ] åª’ä½“æ§åˆ¶æ¨¡å—
- [ ] ç³»ç»Ÿæ§åˆ¶æ¨¡å—

### ç¬¬ä¸‰é˜¶æ®µï¼šè½¦è¾†æ§åˆ¶ä¸ä¿¡æ¯æŸ¥è¯¢ï¼ˆ1å‘¨ï¼‰
- [ ] è½¦è¾†æ§åˆ¶æ¨¡å—ï¼ˆMockï¼‰
- [ ] ä¿¡æ¯æŸ¥è¯¢æ¨¡å—
- [ ] è½¦è¾†çŠ¶æ€é¢æ¿UI

### ç¬¬å››é˜¶æ®µï¼šä¼˜åŒ–ä¸å®Œå–„ï¼ˆ1å‘¨ï¼‰
- [ ] UIä¼˜åŒ–
- [ ] é”™è¯¯å¤„ç†å®Œå–„
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æµ‹è¯•ä¸è°ƒè¯•

---

## æ³¨æ„äº‹é¡¹

### æƒé™ç®¡ç†
- è¿è¡Œæ—¶æƒé™ç”³è¯·ï¼ˆRECORD_AUDIOã€WRITE_SETTINGSç­‰ï¼‰
- æƒé™è¢«æ‹’ç»æ—¶çš„å‹å¥½æç¤º

### é”™è¯¯å¤„ç†
- ç½‘ç»œå¼‚å¸¸å¤„ç†
- SDKåˆå§‹åŒ–å¤±è´¥å¤„ç†
- è¯†åˆ«å¤±è´¥é‡è¯•æœºåˆ¶

### æ€§èƒ½ä¼˜åŒ–
- è¯­éŸ³è¯†åˆ«ç»“æœçš„ç¼“å­˜
- TTSæ’­æŠ¥é˜Ÿåˆ—ç®¡ç†
- çŠ¶æ€æ›´æ–°ä¼˜åŒ–

### ç”¨æˆ·ä½“éªŒ
- æä¾›è§†è§‰åé¦ˆï¼ˆæ³¢å½¢åŠ¨ç”»ï¼‰
- æä¾›è¯­éŸ³åé¦ˆï¼ˆTTSæ’­æŠ¥ï¼‰
- æ”¯æŒå¤šè½®å¯¹è¯ä¸Šä¸‹æ–‡

---

## åç»­æ‰©å±•æ–¹å‘

1. **ç¦»çº¿è¯†åˆ«**ï¼šé›†æˆç™¾åº¦ç¦»çº¿è¯†åˆ«SDK
2. **å”¤é†’è¯**ï¼šé›†æˆç™¾åº¦å”¤é†’è¯åŠŸèƒ½
3. **è¯­ä¹‰ç†è§£**ï¼šä½¿ç”¨ç™¾åº¦UNITå¹³å°å¢å¼ºæ„å›¾è¯†åˆ«
4. **å¤šè½®å¯¹è¯**ï¼šå®ç°ä¸Šä¸‹æ–‡ç†è§£
5. **ä¸ªæ€§åŒ–è®¾ç½®**ï¼šè¯­éŸ³éŸ³è‰²ã€è¯­é€Ÿç­‰è‡ªå®šä¹‰

---

ä»¥ä¸Šå°±æ˜¯åŸºäºç™¾åº¦SDKçš„è½¦è½½è¯­éŸ³åŠ©æ‰‹å®Œæ•´æ–¹æ¡ˆè®¾è®¡ã€‚

